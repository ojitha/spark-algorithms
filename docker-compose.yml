services:
  almond-notebook:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        # These match the ARG instructions in your Dockerfile
        ALMOND_VERSION: "0.14.3"
        SCALA_VERSIONS: "2.13.17"
        # Optional: Set to "yes" if you are using local ivy cache
        LOCAL_IVY: "no" 
    ports:
      # Maps port 8888 on the container to port 8888 on your host
      - "8888:8888"
      - "4040:4040"
      - "7077:7077"
    volumes:
      # Persist your work directory to your local machine
      - ./:/home/jovyan/work
      - coursier-cache:/home/jovyan/.cache/coursier  # Cache dependencies
    environment:
      # Optional: Grant sudo privileges if needed for installing extra packages later
      - GRANT_SUDO=yes

volumes:
  coursier-cache: